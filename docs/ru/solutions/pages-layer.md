# Слой pages

## Семантика
Цель - в одном месте объединить все страницы или большие части страниц при вложенном роутинге.

По смыслу является горизонтальным слоем, даже если внутри древовидная структура (абстракция - страница). Только роутер взаимодействует с компонентами из данного слоя.

Страница - самый понятная абстракция для бизнеса. Задачи в подовляющем большинстве приходят с формулировков: "добавь/поправь X на странице Y".

#### Требования
- Кроссимпорт запрещен

## Когда использовать
- Реализуете многостраничное приложение

## Синтаксис

### Модификации
1) Rich page - это страница, реализованная через папку, внутри которой лежит декомпозированный код по папкам/файлам и сама страница. Требует плоскую структуру слоя.
2) Anemic page - это страница, не имеющая собственной логики и состоящая из одного файла, в котором происходит визуальная композиция самодостаточных компонентов (например виджетов).


Если вам нужен file-system routing, то используйте Anemic page, иначе страницы превратятся в BBoM.

Выберите одну модификацию и используйте ее везде.

### Пример Rich page
Структура папок:
```
src/
└── pages/
    ├── page-1/
    │   ├── ...
    │   └── Index.vue      # Используется Index.vue для уменьшения вложенности при переходе из роутера
    ├── page-2/
    │   ├── ...
    │   └── Index.vue
    └── ...
```

Nuxt:
```ts
// app/router.options.ts
import type { RouterConfig } from '@nuxt/schema'

export default {
  routes: () => [
    {
      name: 'page-1',
      path: '/page-1',
      component: () => import('@/pages/page-1/Index.vue')
    },
    {
      name: 'page-2',
      path: '/page-2',
      component: () => import('@/pages/page-2/Index.vue')
    }
  ]
} satisfies RouterConfig
```

## Автоматизация
Запрещаем импорт из слоя pages везде, кроме роутера.
